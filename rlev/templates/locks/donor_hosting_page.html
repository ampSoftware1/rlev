<!DOCTYPE html>
<html lang="en">

<head>

    <link rel="icon" href="/dashboard/media/logo.png">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <style>
        @font-face {
            font-family: 'Almoni Tzar ML v5 AAA bold';
            src: url('/dashboard/media/almoni-tzar-bold-aaa.woff2') format('woff2');
        }

        @font-face {
            font-family: 'Almoni Tzar ML v5 AAA';
            src: url('/dashboard/media/almoni-tzar-regular-aaa.woff2') format('woff2');
        }

        body {
            margin: 0;
        }

        #load_area {
            position: relative;
            width: 100%;
            height: 100vh;
            background-image: url('/dashboard/media/house_door.png');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            display: flex;
            align-items: center;
        }

        #main_title_area {
            position: absolute;
            top: 20vh;
            left: 50%;
            transform: translateX(-50%);
            width: 152.183px;
            height: 152.183px;
            filter: drop-shadow(0px 4px 4px rgba(0, 0, 0, 0.25));
            animation: rotate 3s linear forwards;
        }

        @keyframes rotate {
            0% {
                transform: translateX(-50%) rotate(0deg);
            }

            100% {
                transform: translateX(-50%) rotate(360deg);
            }
        }

        #main_title_area circle {
            stroke-dasharray: 480;
            stroke-dashoffset: 480;
            animation: draw 2s linear forwards;
        }

        @keyframes draw {
            to {
                stroke-dashoffset: 0;
            }
        }

        #main_title {
            position: absolute;
            top: 24vh;
            left: 50%;
            transform: translateX(-50%);
            height: 117px;
            color: #FFF;
            text-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);
            font-family: "Almoni Tzar ML v5 AAA";
            font-size: 35.275px;
            font-style: normal;
            font-weight: 400;
            line-height: small-caps;
            text-align: center;
        }

        .house-description-area-loader {
            position: absolute;
            top: 44.5vh;
            left: 50%;
            width: 100%;
            text-align: center;
            text-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);
            line-height: 100%;
            transform: translateX(-50%);
        }


        .text {
            color: #FFF;
            font-family: "Almoni Tzar ML v5 AAA";
            font-style: normal;
            letter-spacing: 0.3vw;
        }


        .house-description-main {
            font-size: 48px;
            font-weight: 700;
        }

        .donor-description-sub {
            font-size: 30px;
            font-weight: 400;
        }

        .house-description-sub {
            font-size: 20px;
            font-weight: 400;
        }

        .house-description-loader {
            line-height: 100%;
        }

        .d-none {
            display: none;
        }

        .house-description-body {
            line-height: 80%;
        }

        .logo {
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
        }

        #hostings_area {
            position: relative;
            width: 100%;
            min-height: 100vh;
            background: #002C3C;
            display: none;
            flex-direction: column;
            align-items: center;
        }

        .house-image {
            width: 100%;
            height: auto;
            object-fit: cover;
        }

        #hosting_details {
            width: 90%;
        }

        .house-number-orange {
            color: #EBA611;
        }

        .house-number-green {
            color: green;
        }

        .columns-warp {
            display: flex;
            justify-content: space-between;
            width: 100%;
            flex-grow: 1;
            position: relative;
        }

        .column-end,
        .column-start {
            display: flex;
            flex-direction: column;
            justify-content: flex-end;
        }

        .column-start {
            width: 70%;
        }

        .column-end {
            width: 30%;
            align-items: end;
        }


        .hosting-status {
            position: absolute;
            border-radius: 6px;
            background: #EBA611;
            display: inline-flex;
            width: 19%;
            height: 30px;
            padding: 2% 4%;
            justify-content: center;
            align-items: center;
            bottom: 0;
            left: 0;
        }

        .hosting-status-text {
            color: #FFF;
            font-size: 22px;
            font-weight: 700;
            line-height: normal;
        }

        .hosting-area {
            position: relative;
            border-radius: 16px;
            border-bottom: 6px solid #EBA611;
            background: #004E69;
            height: 20vh;
            width: 100%;
            margin-top: 2vh;
            margin-bottom: 2vh;
        }

        .goust-area {
            position: absolute;
            top: 3.6vh;
            width: 100%;
            text-align: center;
        }

        .goust-name {
            font-size: 34px;
            font-weight: 700;
            line-height: 100%;
        }

        .hospital-ward {
            color: rgba(255, 255, 255, 0.60);
            font-size: 22px;
            font-weight: 400;
            line-height: 100%;
        }

        .border-split {
            position: absolute;
            top: 12vh;
            width: 100%;
            height: 1px;
            background: rgba(255, 255, 255, 0.60);
        }

        .hosting-dates-area {
            position: absolute;
            top: 14vh;
            width: 100%;
            text-align: center;
        }

        .before-dates {
            font-size: 20px;
            font-weight: 400;
            line-height: 100%;
        }

        .hosting-dates {
            font-size: 20px;
            font-weight: 700;
            line-height: 100%;
        }

        .fade-in-element {
            opacity: 0;
            transition-property: opacity, transform;
            transform: translate3d(0, 34px, 0);
            transition-timing-function: cubic-bezier(0.25, 0.1, 0.25, 1);
            transition-duration: .5s;
        }

        .fade-in-element.show {
            opacity: 1;
            transform: none;
        }
    </style>
</head>

<body>
    <div id="load_area">

        <svg id="main_title_area" width="166" height="166" viewBox="0 0 166 166" fill="none"
            xmlns="http://www.w3.org/2000/svg">
            <circle cx="83" cy="83" r="76" stroke="#FFF" stroke-width="4" stroke-linecap="round" />
        </svg>

        <span id="main_title">Childrenâ€™s<br>House</span>
        <div class="house-description-area-loader">
            <span class="house-description-loader text donor-description-sub">The guests of</span>
            <br>
            <span class="house-description-loader text house-description-main">{{ donor_name }}</span>
        </div>
        <img class="logo" style="bottom: 10vh;" src="/dashboard/media/logo_white.svg">
    </div>

    <div id="hostings_area">
        <img class="house-image" src="/dashboard/media/house.png">
        <img class="logo" style="top: 80px;" src="/dashboard/media/logo_white.svg">
        <div id="hosting_details">
            <div class="columns-warp">
                <div class="column-start">
                    <span class="house-description-body text donor-description-sub">The guests of</span>
                    <span class="house-description-body text house-description-main">{{ donor_name }}</span>
                </div>
            </div>
            {% for hosting in hostings %}
            <div class="hosting-area fade-in-element">
                <div style="text-align: center;">
                    <span class="{% if hosting.status == 'active' %} house-number-green {% else %} house-number-orange {% endif %} text house-description-sub ">{{ hosting.house_description }}</span>
                </div>
                <div class="goust-area">
                    <span class="goust-name text">{{ hosting.guest_description }}</span>
                    <br>
                    <span class="hospital-ward text">{{ hosting.hospital_ward}}</span>
                </div>
                <div class="border-split"></div>
                <div class="hosting-dates-area">
                    {% if hosting.status == "active" %}
                    <span class="before-dates text">Hosting stert date: </span>
                    <span class="hosting-dates text">{{ hosting.lodging_start }}</span>
                    {% else %}
                    <span class="before-dates text">Hosting period: </span>
                    <span class="hosting-dates text">{{ hosting.lodging_start }} - {{ hosting.lodging_end }}</span>
                    {% endif %}
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</body>

<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>

<script>
    $(document).ready(function () {
        setTimeout(() => {
            $("#load_area").hide();
            $("#hostings_area").css("display", "flex");
        }, 3000);

        $(window).scroll(function () {
            $(".fade-in-element").each(function () {
                let topOfElement = $(this).offset().top;
                let bottomOfElement = $(this).offset().top + $(this).outerHeight();
                let bottomOfScreen = $(window).scrollTop() + $(window).innerHeight();
                let topOfScreen = $(window).scrollTop();
                let offset = 50;

                if (window.matchMedia("only screen and (max-width: 767px)").matches) {
                    offset = 0;
                }

                if ((bottomOfScreen > topOfElement + offset) && (topOfScreen < bottomOfElement)) {
                    $(this).addClass('show');
                } else {
                    $(this).removeClass('show');
                }
            });
        }).scroll();
    });

</script>

</html>